angular.module("user.config",[]).config(["$stateProvider","$urlRouterProvider","$ionicConfigProvider",function(e,t,a){a.views.maxCache(0),e.state("app",{url:"/app","abstract":!0,templateUrl:"templates/menu.html",controller:"AppCtrl"}).state("app.activity",{url:"/activity",views:{menuContent:{templateUrl:"templates/activity.html",controller:"ActivityCtrl"},fabContent:{template:'<button id="fab-activity" class="button button-fab button-fab-top-right expanded button-energized-900 flap"><i class="icon ion-paper-airplane"></i></button>',controller:["$timeout",function(e){e(function(){document.getElementById("fab-activity").classList.toggle("on")},200)}]}}}).state("app.friends",{url:"/friends",views:{menuContent:{templateUrl:"templates/friends.html",controller:"FriendsCtrl"},fabContent:{template:'<button id="fab-friends" class="button button-fab button-fab-top-left expanded button-energized-900 spin"><i class="icon ion-chatbubbles"></i></button>',controller:["$timeout",function(e){e(function(){document.getElementById("fab-friends").classList.toggle("on")},900)}]}}}).state("app.gallery",{url:"/gallery",views:{menuContent:{templateUrl:"templates/gallery.html",controller:"GalleryCtrl"},fabContent:{template:'<button id="fab-gallery" class="button button-fab button-fab-top-right expanded button-energized-900 drop"><i class="icon ion-heart"></i></button>',controller:["$timeout",function(e){e(function(){document.getElementById("fab-gallery").classList.toggle("on")},600)}]}}}).state("app.login",{url:"/login",views:{menuContent:{templateUrl:"templates/user/login.user.html",controller:"LoginCtrl"},fabContent:{template:""}}}).state("app.wallet",{url:"/wallet",views:{menuContent:{templateUrl:"templates/user/wallet.user.html",controller:"WalletCtrl"},fabContent:{template:""}}}).state("app.java",{url:"/java",views:{menuContent:{templateUrl:"templates/user/java.user.html",controller:"JavaCtrl"},fabContent:{template:""}}}).state("app.profil",{url:"/profil",views:{menuContent:{templateUrl:"templates/user/profil.user.html",controller:"ProfilCtrl"},fabContent:{template:""}}}).state("app.shopping",{url:"/shopping",views:{menuContent:{templateUrl:"templates/user/shopping.user.html",controller:"ShoppingCtrl"},fabContent:{template:""}}}).state("app.transport",{url:"/transport",views:{menuContent:{templateUrl:"templates/user/transport.user.html",controller:"TransportCtrl"},fabContent:{template:""}}}).state("app.aliment",{url:"/aliment",views:{menuContent:{templateUrl:"templates/user/alimentaire.user.html",controller:"AlimentCtrl"},fabContent:{template:""}}}).state("app.communication",{url:"/communication",views:{menuContent:{templateUrl:"templates/user/communication.user.html",controller:"CommunicationCtrl"},fabContent:{template:""}}}).state("app.home",{url:"/home",views:{menuContent:{templateUrl:"templates/user/home.user.html",controller:"HomeCtrl"}}}).state("app.profile",{url:"/profil",views:{menuContent:{templateUrl:"templates/profile.html",controller:"ProfileCtrl"},fabContent:{template:'<button id="fab-profile" class="button button-fab button-fab-bottom-right button-energized-900"><i class="icon ion-plus"></i></button>',controller:["$timeout",function(e){}]}}}),t.otherwise("/app/login")}]),angular.module("aliment.user.controllers",[]).controller("AlimentCtrl",["$scope","$log","$stateParams","$timeout","ionicMaterialMotion","ionicMaterialInk",function(e,t,a,n,o,r){e.$parent.showHeader(),e.$parent.clearFabs(),e.isExpanded=!1,e.$parent.setExpanded(!1),e.$parent.setHeaderFab(!1)}]),angular.module("communication.user.controllers",[]).controller("CommunicationCtrl",["$scope","$log","$stateParams","$timeout","ionicMaterialMotion","ionicMaterialInk",function(e,t,a,n,o,r){e.$parent.showHeader(),e.$parent.clearFabs(),e.isExpanded=!1,e.$parent.setExpanded(!1),e.$parent.setHeaderFab(!1)}]),angular.module("home.user.controllers",[]).controller("HomeCtrl",["$scope","$log","$stateParams","$timeout","ionicMaterialMotion","ionicMaterialInk",function(e,t,a,n,o,r){t.log("loading HomeCtrl ...."),e.$parent.showHeader(),e.$parent.clearFabs(),e.isExpanded=!1,e.$parent.setExpanded(!1),e.$parent.setHeaderFab(!1),n(function(){o.slideUp({selector:".slide-up"})},300),n(function(){o.fadeSlideInRight({startVelocity:3e3})},700),r.displayEffect()}]),angular.module("java.user.controllers",[]).controller("JavaCtrl",["$scope","$log","$stateParams","$timeout","ionicMaterialMotion","ionicMaterialInk",function(e,t,a,n,o,r){e.$parent.showHeader(),e.$parent.clearFabs(),e.isExpanded=!1,e.$parent.setExpanded(!1),e.$parent.setHeaderFab(!1)}]),angular.module("profil.user.controllers",[]).controller("ProfilCtrl",["$scope","$log","$stateParams","$timeout","ionicMaterialMotion","ionicMaterialInk",function(e,t,a,n,o,r){t.log("loading ProfileCtrl ...."),e.$parent.showHeader(),e.$parent.clearFabs(),e.isExpanded=!1,e.$parent.setExpanded(!1),e.$parent.setHeaderFab(!1),n(function(){o.slideUp({selector:".slide-up"})},300),n(function(){o.fadeSlideInRight({startVelocity:3e3})},700),r.displayEffect()}]),angular.module("shopping.user.controllers",[]).controller("ShoppingCtrl",["$scope","$log","$stateParams","$timeout","ionicMaterialMotion","ionicMaterialInk",function(e,t,a,n,o,r){e.$parent.showHeader(),e.$parent.clearFabs(),e.isExpanded=!1,e.$parent.setExpanded(!1),e.$parent.setHeaderFab(!1)}]),angular.module("transport.user.controllers",[]).controller("TransportCtrl",["$scope","$log","$stateParams","$timeout","ionicMaterialMotion","ionicMaterialInk",function(e,t,a,n,o,r){e.$parent.showHeader(),e.$parent.clearFabs(),e.isExpanded=!1,e.$parent.setExpanded(!1),e.$parent.setHeaderFab(!1)}]),angular.module("user.controllers",["profil.user.controllers","communication.user.controllers","home.user.controllers","communication.user.controllers","wallet.user.controllers","shopping.user.controllers","java.user.controllers","aliment.user.controllers","communication.user.controllers","transport.user.controllers"]).controller("AppCtrl",["$scope","$log","$ionicModal","$ionicPopover","$timeout",function(e,t,a,n,o){t.log("loading AppCtrl ...."),e.loginData={},e.isExpanded=!1,e.hasHeaderFabLeft=!1,e.hasHeaderFabRight=!1;for(var r=document.getElementsByClassName("ion-navicon"),l=0;l<r.length;l++)r.addEventListener("click",function(){this.classList.toggle("active")});e.hideNavBar=function(){document.getElementsByTagName("ion-nav-bar")[0].style.display="none"},e.showNavBar=function(){document.getElementsByTagName("ion-nav-bar")[0].style.display="block"},e.noHeader=function(){for(var e=document.getElementsByTagName("ion-content"),t=0;t<e.length;t++)e[t].classList.contains("has-header")&&e[t].classList.toggle("has-header")},e.setExpanded=function(t){e.isExpanded=t},e.setHeaderFab=function(t){var a=!1,n=!1;switch(t){case"left":a=!0;break;case"right":n=!0}e.hasHeaderFabLeft=a,e.hasHeaderFabRight=n},e.hasHeader=function(){for(var e=document.getElementsByTagName("ion-content"),t=0;t<e.length;t++)e[t].classList.contains("has-header")||e[t].classList.toggle("has-header")},e.hideHeader=function(){e.hideNavBar(),e.noHeader()},e.showHeader=function(){e.showNavBar(),e.hasHeader()},e.clearFabs=function(){var e=document.getElementsByClassName("button-fab");e.length&&e.length>1&&e[0].remove()}}]).controller("LoginCtrl",["$scope","$timeout","$stateParams","ionicMaterialInk","$ionicLoading","Auth","$state",function(e,t,a,n,o,r,l){console.log("loading LoginCtrl ...."),e.user={name:"",password:""},e.$parent.clearFabs(),t(function(){e.$parent.hideHeader()},0),n.displayEffect(),e.login=function(e){o.show({template:'<div class="loader"><svg class="circular"><circle class="path" cx="50" cy="50" r="20" fill="none" stroke-width="2" stroke-miterlimit="10"/></svg></div>'}),r.login(e.name,e.password).then(function(e){e.success?(o.hide(),l.go("app.home")):alert("Username / Password not valid. Try again")})}}]).controller("FriendsCtrl",["$scope","$log","$stateParams","$timeout","ionicMaterialInk","ionicMaterialMotion",function(e,t,a,n,o,r){t.log("loading FriendsCtrl ...."),e.$parent.showHeader(),e.$parent.clearFabs(),e.$parent.setHeaderFab("left"),n(function(){e.isExpanded=!0,e.$parent.setExpanded(!0),r.fadeSlideInRight()},300),e.liste=[{img:"img/jon-snow.jpg",title:"Daenerys Targaryen",content:"Dragon mommy"},{img:"img/daenerys.jpg",title:"Daenerys Targaryen",content:"Dragon mommy"},{img:"img/arya.jpg",title:"Arya Stark",content:"Is Chuck Norris  fear"},{img:"img/sansa.jpg",title:"Tyrion Lannister",content:"B.A.M.F. imp"}],o.displayEffect()}]).controller("ActivityCtrl",["$scope","$stateParams","$timeout","ionicMaterialMotion","ionicMaterialInk",function(e,t,a,n,o){e.$parent.showHeader(),e.$parent.clearFabs(),e.isExpanded=!0,e.$parent.setExpanded(!0),e.$parent.setHeaderFab("right"),a(function(){n.fadeSlideIn({selector:".animate-fade-slide-in .item"})},200),o.displayEffect(),e.don="lionel"}]).controller("GalleryCtrl",["$scope","$stateParams","$timeout","ionicMaterialInk","ionicMaterialMotion",function(e,t,a,n,o){e.$parent.showHeader(),e.$parent.clearFabs(),e.isExpanded=!0,e.$parent.setExpanded(!0),e.$parent.setHeaderFab(!1),n.displayEffect(),o.pushDown({selector:".push-down"}),o.fadeSlideInRight({selector:".animate-fade-slide-in .item"})}]),angular.module("wallet.user.controllers",[]).controller("WalletCtrl",["$scope","$log","$stateParams","$timeout","ionicMaterialMotion","ionicMaterialInk","$ionicAnalytics",function(e,t,a,n,o,r,l){l.track("WalletCtrl",{item:{id:"WC",name:"Loading ... "}}),e.$parent.showHeader(),e.$parent.clearFabs(),e.isExpanded=!1,e.$parent.setExpanded(!1),e.$parent.setHeaderFab(!1),n(function(){o.slideUp({selector:".slide-up"})},300),e.navSlide=function(e){},n(function(){o.fadeSlideInRight({startVelocity:3e3})},700),r.displayEffect()}]),angular.module("services",[]).factory("Auth",["$q","$http","ApiEndpoint",function(e,t,a){var n=null;try{n=JSON.parse(window.localStorage.getItem("user"))}catch(o){}var r=function(o,r){var l=e.defer(),i=a.url+"/users/login",s={name:o,password:r};return console.log("url",i),t.post(i,s).success(function(e){return console.log("response",e),!e.success||1!=e.success&&"true"!=e.success?l.resolve("No user found"):(n={name:e.name,id:e.id},window.localStorage.setItem("user",JSON.stringify(n)),l.resolve(e))}).error(function(e){l.reject(e)}),l.promise},l=function(){return n},i=function(){n=null,window.localStorage.removeItem("user")};return{login:r,logout:i,currentUser:l}}]);